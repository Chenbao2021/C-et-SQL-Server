# CUBE
## I - Introduction
The CUBE is a subclause of the GROUP BY clause that allows you to generate multiple grouping sets.
```
SELECT d1, d2, d3, aggregate_function(c4)
FROM table_name
GROUP BY 
    CUBE(d1, d2, d3)
```
The CUBE generates all possible grouping sets based on the dimension columns d1, d2, and d3 that you specify in the __CUBE__ clause, same as:
```
GROUPING SETS (
    (d1, d2, d3),
    (d1, d2),
    (d1, d3),
    (d2, d3),
    (d1),
    (d2),
    (d3),
    ()
)
```
If you have N dimension columns specified in the CUBE, you will have 2^N grouping sets

It is possible to reduce the number of grouping sets by using the __CUBE__ partially as shown in the following query:
```
SELECT d1, d2, d3, aggregate_function (c4)
FROM table_name
GROUP BY
    d1,
    CUBE(d2, d3)
```

## II - Examples 
1. The following statement uses the __CUBE__ to generate four grouping sets:
    ```
    SELECT brand, category, SUM(sales) sales
    FROM sales.sales_summary
    GROUP BY CUBE(brand, category);
    ```

2. The following example illustrates how to perform a partial __CUBE__ to reduce the number of grouping sets generated by the query(2 grouping sets):
    ```
    SELECT brand, category, SUM(sales) sales
    FROM sales.sales_summary
    GROUP BY brand, CUBE(category)
    ```






